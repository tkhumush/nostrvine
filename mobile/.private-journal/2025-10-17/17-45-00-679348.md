---
title: "5:45:00 PM - October 17, 2025"
date: 2025-10-17T04:45:00.679Z
timestamp: 1760676300679
---

## Project Notes

## OpenVine Router Architecture Now Fixed

Successfully eliminated systemic GlobalKey conflicts that were plaguing navigation throughout the app.

**Files Changed**:
- `lib/router/app_router.dart` - Consolidated routes, removed duplicate GlobalKeys
- `test/router/consolidated_routes_test.dart` - New tests verifying no conflicts

**Before (BROKEN)**:
- 7 GlobalKeys for 4 logical screens (explore, search, hashtag, home)
- Multiple GoRoute definitions per screen
- Constant GlobalKey conflicts on navigation

**After (FIXED)**:
- 5 GlobalKeys for 5 logical screens (one-to-one mapping)
- Single GoRoute per screen with optional parameters
- Zero GlobalKey conflicts

**Router Pattern Now**:
- Grid mode: `/route` or `/route/:param`
- Feed mode: `/route/:index` or `/route/:param/:index`
- Screens adapt UI based on whether videoIndex is null (grid) or set (feed)

**Manual Testing Checklist** (for Rabble):
- [ ] Navigate /explore → /explore/0 → back → forward
- [ ] Navigate /search → /search/bitcoin → /search/bitcoin/2
- [ ] Navigate /hashtag/nostr → /hashtag/nostr/0
- Verify: No GlobalKey errors in console, smooth transitions
